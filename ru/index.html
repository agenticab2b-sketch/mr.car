<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Mr.Car Авторемонт Таллинн — профессиональный ремонт автомобилей, шиномонтаж и диагностика в Копли. Звоните +372 5646 1210">
    <title>Mr.Car Авторемонт Таллинн — Профессиональное обслуживание авто</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
</head>

<body>

    <!-- ========================================
       1. NAVBAR
       ======================================== -->
    <header class="navbar" id="navbar">
        <a href="/" class="navbar__logo">Mr.Car</a>
        <nav class="navbar__nav">
            <a href="#services" class="navbar__link">[01] Услуги</a>
            <a href="#about" class="navbar__link">[02] О нас</a>
            <a href="#pricing" class="navbar__link">[03] Цены</a>
            <a href="#contact" class="navbar__link">[04] Контакты</a>
        </nav>
        <a href="tel:+3725646121" class="navbar__phone">+372 5646 1210</a>
        <div class="navbar__cta">
            <a href="#contact" class="btn btn-primary">Записаться</a>
        </div>
        <button class="navbar__burger" id="burgerBtn" aria-label="Open menu">
            <span></span><span></span><span></span>
        </button>
        <div class="navbar__lang desktop-only">
            <a href="/" class="lang-link" title="Eesti keel">
                <iconify-icon icon="circle-flags:ee" width="24" height="24"></iconify-icon>
            </a>
            <a href="/ru/" class="lang-link active" title="Русский язык">
                <iconify-icon icon="circle-flags:ru" width="24" height="24"></iconify-icon>
            </a>
            <a href="/en/" class="lang-link" title="English">
                <iconify-icon icon="circle-flags:en" width="24" height="24"></iconify-icon>
            </a>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <button class="mobile-menu__close" id="closeMenu" aria-label="Close menu">&times;</button>
        <a href="#services" class="mobile-menu__link" onclick="closeMobileMenu()">Услуги</a>
        <a href="#about" class="mobile-menu__link" onclick="closeMobileMenu()">О нас</a>
        <a href="#pricing" class="mobile-menu__link" onclick="closeMobileMenu()">Цены</a>
        <a href="#contact" class="mobile-menu__link" onclick="closeMobileMenu()">Контакты</a>
        <a href="tel:+3725646121" class="mobile-menu__link" style="color: var(--accent-primary);">+372 5646 1210</a>
        <div class="mobile-menu__lang">
            <a href="/" class="mobile-lang-link">
                <iconify-icon icon="circle-flags:ee" width="32" height="32"></iconify-icon>
                <span>Eesti</span>
            </a>
            <a href="/ru/" class="mobile-lang-link active">
                <iconify-icon icon="circle-flags:ru" width="32" height="32"></iconify-icon>
                <span>Русский</span>
            </a>
            <a href="/en/" class="mobile-lang-link">
                <iconify-icon icon="circle-flags:en" width="32" height="32"></iconify-icon>
                <span>English</span>
            </a>
        </div>
    </div>

    <!-- ========================================
       2. HERO
       ======================================== -->
    <section class="hero" id="hero">
        <div class="hero__image animated-blur">
            <img src="https://images.unsplash.com/photo-1619642751034-765dfdf7c58e?w=800&q=80"
                alt="Автосервис Mr.Car — мастер за работой" loading="eager">
        </div>
        <div class="hero__content reveal">
            <div class="hero__status" id="serviceStatus">
                <span class="hero__status-dot"></span>
                <span class="hero__status-label">Статус сервиса:</span>
                <span class="hero__status-state" id="statusState">Открыто</span>
                <span class="hero__status-sep">│</span>
                <span class="hero__status-countdown" id="statusCountdown">
                    <span class="countdown__block">
                        <span class="countdown__num" id="cdHours">00</span>
                        <span class="countdown__unit">ч</span>
                    </span>
                    <span class="countdown__sep">:</span>
                    <span class="countdown__block">
                        <span class="countdown__num" id="cdMinutes">00</span>
                        <span class="countdown__unit">мин</span>
                    </span>
                    <span class="countdown__sep">:</span>
                    <span class="countdown__block">
                        <span class="countdown__num" id="cdSeconds">00</span>
                        <span class="countdown__unit">сек</span>
                    </span>
                </span>
            </div>
            <h1 class="hero__title">Ваш авто<br>мастер.</h1>
            <span class="hero__underline"></span>
            <p class="hero__description body-text">Mr.Car — профессиональный автосервис. Мы ремонтируем надёжно,
                качественно и в срок. Ваш автомобиль в надёжных руках.</p>
            <div class="hero__actions">
                <span class="hero__address">/// Kopli 82a, 10412 Tallinn</span>
                <a href="#contact" class="hero__cta-row">
                    <span class="hero__cta-text">Записаться на ремонт</span>
                    <span class="hero__cta-arrow">↘</span>
                </a>
            </div>
        </div>
    </section>

    <!-- ========================================
       3. TRUST BAR
       ======================================== -->
    <div class="trust-bar">
        <div class="trust-bar__content">
            <span>Опытные механики и современное оборудование</span>
            <span>—</span>
            <span>Понятный процесс работы и прозрачные цены</span>
            <span>—</span>
            <span>Быстрое обслуживание без потери качества</span>
            <span>—</span>
            <span>Запчасти от известных и проверенных поставщиков</span>
            <span>—</span>
            <span>Персональный подход к обслуживанию</span>
            <span>—</span>
            <span>Чиним как для себя</span>
            <span>—</span>
        </div>
        <div class="trust-bar__content" aria-hidden="true">
            <span>Опытные механики и современное оборудование</span>
            <span>—</span>
            <span>Понятный процесс работы и прозрачные цены</span>
            <span>—</span>
            <span>Быстрое обслуживание без потери качества</span>
            <span>—</span>
            <span>Запчасти от известных и проверенных поставщиков</span>
            <span>—</span>
            <span>Персональный подход к обслуживанию</span>
            <span>—</span>
            <span>Чиним как для себя</span>
            <span>—</span>
        </div>
    </div>

    <!-- ========================================
       4. SERVICES OVERVIEW (Icon Anchors)
       ======================================== -->
    <section class="services-overview">
        <div class="brutal-grid site-container">
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:car-wrench" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Ремонт</span>
            </a>
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:car-side" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Ходовая</span>
            </a>
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:car-cog" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Диагностика</span>
            </a>
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:tire" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Шиномонтаж</span>
            </a>
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:lightning-bolt" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Электрика</span>
            </a>
            <a href="#services" class="service-icon">
                <iconify-icon icon="mdi:snowflake" width="48" height="48"></iconify-icon>
                <span class="service-icon__label">Климат</span>
            </a>
        </div>
    </section>

    <!-- ========================================
       5. SERVICES — FEATURED (3 Key Cards)
       ======================================== -->
    <section class="services-section" id="services">
        <div class="services-section__header site-container"
            style="display: flex; justify-content: space-between; align-items: flex-end; flex-wrap: wrap; gap: 1rem;">
            <div>
                <span class="meta">/// Гарантия качества</span>
                <h2>Полный<br>сервис</h2>
            </div>
            <div id="google-rating" class="services__rating" style="margin-left: auto; margin-bottom: 0;"></div>
        </div>

        <!-- 3 Featured Cards -->
        <div class="services-grid site-container reveal">
            <!-- Card: Полный ремонт -->
            <div class="service-card service-card--centered">
                <div class="service-card__icon">
                    <iconify-icon icon="mdi:wrench" width="28" height="28" aria-hidden="true"></iconify-icon>
                </div>
                <h3 class="service-card__title">Полный ремонт</h3>
                <p class="service-card__description">Капитальный ремонт двигателя, КПП, ходовой. От мелких
                    неисправностей до сложных случаев — решаем любые задачи.</p>
            </div>

            <!-- Card: Диагностика (FEATURED — center) -->
            <div class="service-card service-card--featured service-card--centered">
                <div class="service-card__icon">
                    <iconify-icon icon="mdi:car-cog" width="28" height="28" aria-hidden="true"></iconify-icon>
                </div>
                <h3 class="service-card__title">Диагностика</h3>
                <p class="service-card__description">Компьютерная диагностика всех систем автомобиля. Определяем
                    неисправности с точностью 100%. Современное оборудование.</p>
            </div>

            <!-- Card: Гарантия -->
            <div class="service-card service-card--centered">
                <div class="service-card__icon">
                    <iconify-icon icon="mdi:shield-check" width="28" height="28" aria-hidden="true"></iconify-icon>
                </div>
                <h3 class="service-card__title">Гарантия</h3>
                <p class="service-card__description">Даём гарантию на все виды работ. Используем только оригинальные
                    запчасти и качественные аналоги от проверенных производителей.</p>
            </div>
        </div>

        <!-- All 12 Services — Compact Grid -->
        <div class="services-all site-container">
            <div class="services-all__grid">
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[01]</span>
                    <span class="services-all__name">Ремонт автомобилей</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[02]</span>
                    <span class="services-all__name">Глушители и сварка</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[03]</span>
                    <span class="services-all__name">Ходовая и тормоза</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[04]</span>
                    <span class="services-all__name">Шиномонтаж</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[05]</span>
                    <span class="services-all__name">ТО и диагностика</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[06]</span>
                    <span class="services-all__name">Ремонт КПП</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[07]</span>
                    <span class="services-all__name">Электроработы</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[08]</span>
                    <span class="services-all__name">Ремонт двигателя</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[09]</span>
                    <span class="services-all__name">Замена масла и фильтров</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[10]</span>
                    <span class="services-all__name">Проверка перед покупкой</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[11]</span>
                    <span class="services-all__name">Климат и кондиционер</span>
                    <span class="services-all__arrow">→</span>
                </a>
                <a href="#" class="services-all__item">
                    <span class="services-all__number">[12]</span>
                    <span class="services-all__name">Ремонт и диагностика Webasto</span>
                    <span class="services-all__arrow">→</span>
                </a>
            </div>
        </div>
    </section>

    <!-- ========================================
       6. ABOUT / WHY US
       ======================================== -->
    <section class="about-section" id="about">
        <div class="about-grid site-container reveal">
            <div class="about__title-block">
                <div>
                    <span class="meta">/// Почему мы</span>
                    <h2 style="margin-top: var(--space-md);">Mr.Car</h2>
                    <div class="accent-underline"></div>
                </div>
                <a href="#contact" class="btn btn-primary"
                    style="margin-top: var(--space-xl); align-self: flex-start;">Записаться <span
                        class="arrow">↗</span></a>
            </div>
            <div class="about__features">
                <div class="feature-block">
                    <div class="feature-block__icon"><iconify-icon icon="mdi:cog" width="32" height="32"></iconify-icon>
                    </div>
                    <h3 class="feature-block__title">Опыт</h3>
                    <p class="feature-block__text">Работаем в Kopli. Знаем каждый двигатель — от Volkswagen до BMW.</p>
                </div>
                <div class="feature-block">
                    <div class="feature-block__icon"><iconify-icon icon="mdi:wrench" width="32"
                            height="32"></iconify-icon></div>
                    <h3 class="feature-block__title">Оборудование</h3>
                    <p class="feature-block__text">Современная компьютерная диагностика. Оригинальные и качественные
                        запчасти.</p>
                </div>
                <div class="feature-block">
                    <div class="feature-block__icon"><iconify-icon icon="mdi:currency-eur" width="32"
                            height="32"></iconify-icon></div>
                    <h3 class="feature-block__title">Честная цена</h3>
                    <p class="feature-block__text">Называем стоимость до начала работы. Никаких скрытых доплат.</p>
                </div>
                <div class="feature-block">
                    <div class="feature-block__icon"><iconify-icon icon="mdi:timer" width="32"
                            height="32"></iconify-icon></div>
                    <h3 class="feature-block__title">Скорость</h3>
                    <p class="feature-block__text">Большинство работ выполняем в день обращения. Перезваниваем в течение
                        30 минут.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ========================================
       7. GALLERY
       ======================================== -->
    <section class="gallery-section" id="gallery">
        <div class="gallery__header site-container reveal">
            <h2>Наши работы</h2>
            <a href="#" class="gallery__index">Смотреть галерею</a>
        </div>
        <div class="gallery__images site-container reveal">
            <div class="gallery__item">
                <img src="../homepage_pics/lowkey_portfolio_1_1771547397632.avif" alt="Ремонт двигателя в Mr.Car"
                    loading="lazy">
            </div>
            <div class="gallery__item">
                <img src="../homepage_pics/lowkey_portfolio_2_1771547415128.avif" alt="Диагностика автомобиля"
                    loading="lazy">
            </div>
            <div class="gallery__item">
                <img src="../homepage_pics/lowkey_portfolio_3_1771547430620.avif" alt="Автосервис Mr.Car изнутри"
                    loading="lazy">
            </div>
        </div>
    </section>

    <!-- ========================================
       8. TEAM
       ======================================== -->
    <section class="team-section" id="team">
        <div class="team__header site-container">
            <div class="section-header">
                <span class="meta">/// Наши мастера</span>
                <h2>Команда</h2>
            </div>
        </div>
        <div class="team-grid site-container reveal">
            <div class="team-card">
                <div class="team-card__image">
                    <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&q=80" alt="Мастер-механик"
                        loading="lazy">
                </div>
                <div class="team-card__info">
                    <div class="team-card__name">Алексей К.</div>
                    <div class="team-card__role">Мастер-механик</div>
                    <div class="team-card__details">
                        Специализация: двигатели, КПП<br>
                        Опыт: 15+ лет
                    </div>
                </div>
            </div>
            <div class="team-card">
                <div class="team-card__image">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&q=80"
                        alt="Электрик-диагност" loading="lazy">
                </div>
                <div class="team-card__info">
                    <div class="team-card__name">Дмитрий С.</div>
                    <div class="team-card__role">Электрик-диагност</div>
                    <div class="team-card__details">
                        Специализация: электрика, диагностика<br>
                        Опыт: 10+ лет
                    </div>
                </div>
            </div>
            <div class="team-card">
                <div class="team-card__image">
                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&q=80"
                        alt="Мастер по ходовой" loading="lazy">
                </div>
                <div class="team-card__info">
                    <div class="team-card__name">Сергей В.</div>
                    <div class="team-card__role">Мастер по ходовой</div>
                    <div class="team-card__details">
                        Специализация: подвеска, тормоза<br>
                        Опыт: 12+ лет
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ========================================
       9. PRICING TEASER
       ======================================== -->
    <section class="pricing-section" id="pricing">
        <div class="site-container">
            <div class="section-header">
                <span class="meta">/// Прозрачные цены</span>
                <h2>Популярные услуги</h2>
            </div>
        </div>

        <div class="pricing-grid site-container reveal">
            <div class="pricing-item">
                <span class="pricing-item__service">Замена масла</span>
                <span class="pricing-item__price">от €35</span>
                <span class="pricing-item__note">Масло + фильтр</span>
            </div>
            <div class="pricing-item">
                <span class="pricing-item__service">Диагностика</span>
                <span class="pricing-item__price">от €40</span>
                <span class="pricing-item__note">Компьютерная диагностика</span>
            </div>
            <div class="pricing-item">
                <span class="pricing-item__service">Шиномонтаж</span>
                <span class="pricing-item__price">от €20</span>
                <span class="pricing-item__note">За одно колесо</span>
            </div>
        </div>
        <div class="pricing__cta-wrapper">
            <a href="#services" class="btn btn-secondary">Полный прайс <iconify-icon icon="mdi:arrow-top-right"
                    width="16" height="16" aria-hidden="true" class="btn__icon"></iconify-icon></a>
        </div>
    </section>

    <!-- ========================================
       10. CONTACT FORM
       ======================================== -->
    <section class="contact-section" id="contact">
        <div class="container site-container">
            <div class="section-header">
                <span class="meta">/// Запись на ремонт</span>
            </div>
        </div>
        <div class="contact-grid site-container reveal">
            <div class="contact__info">
                <h2>Записаться<br>на ремонт</h2>
                <p class="contact__promise">Оставьте заявку — перезвоним в течение 30 минут в рабочее время.</p>
                <div class="accent-underline"></div>
                <p class="contact__alt">Или позвоните: <a href="tel:+3725646121">+372 5646 1210</a></p>
            </div>
            <div class="contact__form">
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name">Имя</label>
                        <input type="text" id="name" name="name" placeholder="Как вас зовут" required>
                        <span class="form-error" id="nameError"></span>
                    </div>
                    <div class="form-group">
                        <label for="phone">Телефон</label>
                        <input type="tel" id="phone" name="phone" placeholder="+372 ..." required>
                        <span class="form-error" id="phoneError"></span>
                    </div>
                    <div class="form-group">
                        <label for="car">Марка и модель авто (необязательно)</label>
                        <input type="text" id="car" name="car" placeholder="Например: VW Golf 2019">
                    </div>
                    <div class="form-group">
                        <label for="message">Комментарий (необязательно)</label>
                        <textarea id="message" name="message" placeholder="Опишите проблему или вид работ"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary"
                        style="width: 100%; justify-content: center;">Отправить заявку <span
                            class="arrow">↗</span></button>
                </form>
            </div>
        </div>
    </section>

    <!-- ========================================
       11. MAP + LOCATION
       ======================================== -->
    <section class="location-section" id="location">
        <div class="location-grid site-container reveal">
            <div class="location__info">
                <div>
                    <span class="meta">/// Как нас найти</span>
                    <h2>Мы рядом</h2>
                </div>
                <div class="location__detail">
                    <span class="location__label">Адрес</span>
                    <span class="location__value">Kopli 82a, 10412 Tallinn</span>
                </div>
                <div class="location__detail">
                    <span class="location__label">Часы работы</span>
                    <span class="location__value">E–R: 09:00 – 18:00</span>
                    <span class="location__value" style="color: var(--text-dimmed);">L–P: Suletud</span>
                </div>
                <div class="location__detail">
                    <span class="location__label">Телефон</span>
                    <a href="tel:+3725646121" class="location__value" style="color: var(--accent-primary);">+372 5646
                        1210</a>
                </div>
                <div class="location__detail">
                    <span class="location__label">Email</span>
                    <a href="mailto:info@mrcar.ee" class="location__value">info@mrcar.ee</a>
                </div>
                <a href="https://maps.google.com/?q=Kopli+82a+Tallinn" target="_blank" rel="noopener"
                    class="btn btn-secondary">Построить маршрут <span class="arrow">↗</span></a>
            </div>
            <div class="location__map">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2028.5!2d24.7!3d59.45!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTnCsDI3JzAwLjAiTiAyNMKwNDInMDAuMCJF!5e0!3m2!1sen!2see!4v1&q=Kopli+82a,+Tallinn"
                    allowfullscreen loading="lazy" title="Mr.Car на карте"></iframe>
            </div>
        </div>
    </section>

    <!-- ========================================
       12. FOOTER
       ======================================== -->
    <footer class="footer">
        <div class="footer-grid site-container">
            <div>
                <div class="footer__col-title">Контакты</div>
                <div class="footer__text">
                    <a href="tel:+3725646121">+372 5646 1210</a><br>
                    <a href="mailto:info@mrcar.ee">info@mrcar.ee</a><br>
                    Kopli 82a, 10412 Tallinn
                </div>
                <div class="footer__socials">
                    <a href="#" class="footer__social-link" aria-label="Facebook">
                        <iconify-icon icon="mdi:facebook"></iconify-icon>
                    </a>
                    <a href="#" class="footer__social-link" aria-label="Instagram">
                        <iconify-icon icon="mdi:instagram"></iconify-icon>
                    </a>
                </div>
            </div>
            <div>
                <div class="footer__col-title">Реквизиты</div>
                <div class="footer__text"
                    style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-dimmed);">
                    ANET EESTI OÜ<br>
                    Reg. nr: 10233521<br>
                    KMKR: EE100321511<br>
                    LHV: EE54 7700 7710 0969 0559<br>
                    SEB: EE10 1010 0520 0108 4005
                </div>
            </div>
            <div>
                <div class="footer__col-title">Часы работы</div>
                <div class="footer__text">
                    Понедельник – Пятница<br>
                    <strong style="color: var(--text-main);">09:00 – 18:00</strong><br><br>
                    Суббота – Воскресенье<br>
                    <span style="color: var(--text-dimmed);">Закрыто</span>
                </div>
            </div>
        </div>
        <div class="footer__bottom">
            <span>© 2024 Mr.Car Autoremont Tallinn</span>
            <a href="#">Privaatsuspoliitika</a>
            <span>Designed by <a href="https://agentica.ee" target="_blank" rel="noopener">Agentica</a></span>
        </div>
    </footer>

    <!-- ========================================
       SCRIPTS
       ======================================== -->
    <script>
        // Mobile menu
        const burger = document.getElementById('burgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeBtn = document.getElementById('closeMenu');

        burger.addEventListener('click', () => {
            mobileMenu.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        closeBtn.addEventListener('click', closeMobileMenu);

        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        let lastScroll = 0;

        window.addEventListener('scroll', () => {
            const currentScroll = window.scrollY;
            if (currentScroll > 100) {
                navbar.style.borderBottomColor = 'var(--accent-primary)';
            } else {
                navbar.style.borderBottomColor = '';
            }
            lastScroll = currentScroll;
        });
        // Form handling
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const btn = this.querySelector('button[type="submit"]');
                const originalText = btn.innerHTML;
                btn.disabled = true;
                btn.innerHTML = 'Отправка...';

                setTimeout(() => {
                    showSnackbar();
                    contactForm.reset();
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }, 1000);
            });
        }

        function showSnackbar() {
            var x = document.getElementById("snackbar");
            x.className = "snackbar show";
            setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000);
        }

        // Scroll Reveal
        const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });

        // ========================================
        // Service Status Countdown Timer
        // Schedule: Mon–Fri 09:00–18:00 (Europe/Tallinn)
        // ========================================
        (function () {
            const OPEN_HOUR = 9;
            const CLOSE_HOUR = 18;
            const TZ = 'Europe/Tallinn';

            const statusEl = document.getElementById('serviceStatus');
            const stateEl = document.getElementById('statusState');
            const cdH = document.getElementById('cdHours');
            const cdM = document.getElementById('cdMinutes');
            const cdS = document.getElementById('cdSeconds');

            function getTallinnTime() {
                const now = new Date();
                const tallinnStr = now.toLocaleString('en-US', { timeZone: TZ });
                return new Date(tallinnStr);
            }

            function isWorkday(day) {
                return day >= 1 && day <= 5; // Mon=1 ... Fri=5
            }

            function getServiceState() {
                const t = getTallinnTime();
                const day = t.getDay();
                const hour = t.getHours();
                const min = t.getMinutes();
                const timeDecimal = hour + min / 60;

                if (isWorkday(day) && timeDecimal >= OPEN_HOUR && timeDecimal < CLOSE_HOUR) {
                    return 'open';
                }
                return 'closed';
            }

            function getNextTransition() {
                const now = getTallinnTime();
                const day = now.getDay();
                const state = getServiceState();

                if (state === 'open') {
                    // Open: countdown to today 18:00
                    const target = new Date(now);
                    target.setHours(CLOSE_HOUR, 0, 0, 0);
                    return target - now;
                }

                // Closed: find next opening (Mon–Fri 09:00)
                const target = new Date(now);
                target.setHours(OPEN_HOUR, 0, 0, 0);

                if (isWorkday(day) && now.getHours() < OPEN_HOUR) {
                    // Before opening on a workday — opens today
                    return target - now;
                }

                // After closing or on weekends — find next workday
                let daysToAdd = 1;
                let nextDay = (day + 1) % 7;

                while (!isWorkday(nextDay)) {
                    daysToAdd++;
                    nextDay = (nextDay + 1) % 7;
                }

                target.setDate(target.getDate() + daysToAdd);
                return target - now;
            }

            function pad(n) {
                return String(Math.floor(n)).padStart(2, '0');
            }

            function updateCountdown() {
                const state = getServiceState();
                const ms = getNextTransition();

                // Update state
                if (state === 'open') {
                    statusEl.setAttribute('data-state', 'open');
                    stateEl.textContent = 'Открыто';
                } else {
                    statusEl.setAttribute('data-state', 'closed');
                    stateEl.textContent = 'Закрыто';
                }

                // Calculate time
                const totalSec = Math.max(0, Math.floor(ms / 1000));
                const hours = Math.floor(totalSec / 3600);
                const minutes = Math.floor((totalSec % 3600) / 60);
                const seconds = totalSec % 60;

                cdH.textContent = pad(hours);
                cdM.textContent = pad(minutes);
                cdS.textContent = pad(seconds);
            }

            // Run immediately, then every second
            updateCountdown();
            setInterval(updateCountdown, 1000);
        })();

        // Google Rating Fetch
        (function () {
            const ratingContainer = document.getElementById('google-rating');
            const fallbackData = { rating: 4.9, user_ratings_total: 103 };

            async function fetchRating() {
                try {
                    const response = await fetch('/api/google-rating');
                    const data = await response.json();
                    updateUI(data);
                } catch (error) {
                    console.error('Error fetching rating:', error);
                    updateUI(fallbackData);
                }
            }

            function updateUI(data) {
                if (!ratingContainer) return;
                const rating = data.rating || fallbackData.rating;
                const count = data.user_ratings_total || fallbackData.user_ratings_total;

                ratingContainer.innerHTML = `
                    <a href="https://www.google.com/maps/search/?api=1&query=Mr.Car+Autoremont+Tallinn" target="_blank" rel="noopener" class="services__rating-link">
                        <div class="services__rating-stars">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"/></svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"/></svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"/></svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"/></svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"/></svg>
                        </div>
                        <div class="services__rating-text" style="display: flex; align-items: center;">
                            <span class="services__rating-value" style="display: flex; align-items: center;">${rating.toFixed(1)}</span>
                            <span class="services__rating-count" style="margin-left: 4px; display: flex; align-items: center;">(${count})</span>
                            <span class="services__rating-label" style="display: flex; align-items: center;">
                                <span style="margin: 0 12px; color: var(--text-dimmed); font-size: 1.25rem; display: flex; align-items: center;">•</span>
                                <iconify-icon icon="logos:google" width="58" style="display: flex; align-items: center;"></iconify-icon>
                            </span>
                        </div>
                    </a>
                `;
                ratingContainer.style.opacity = '1';
            }

            fetchRating();
        })();
    </script>

    <!-- Snackbar Component -->
    <div id="snackbar" class="snackbar">Заявка отправлена успешно!</div>

</body>

</html>