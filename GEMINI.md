# GEMINI.md — Global Rules (Antigravity)

## 1) Принцип по умолчанию: Skills-first
Если задача про дизайн сайта (типографика, цвета, сетка, компоненты, тексты интерфейса, состояния, анимации, “вау-эффекты”) — работай через skills.
Не импровизируй “из головы”, если есть подходящий skill.

## 2) Как выбирать и применять skills (обязательная логика)
1) Определи релевантные skills.
2) Открой каждый нужный skill и следуй его структуре ответа **БЕЗ перестановок и сокращений**.
3) Если skills несколько — применяй их **в правильном порядке** (см. раздел 3).

## 3) Обязательный порядок для сборки страницы/секции
Если создаёшь страницу/секцию/компонент “с нуля”, порядок такой:
1) `typography`
2) `color-system`
3) `layout-spacing`
4) `shape-depth`
5) `components-patterns`
6) `content-design`
7) `motion` *(только если реально уместно)*
8) `trend-layer` *(только если нужен “вау-эффект” и это уместно)*

Запрещено перескакивать через шаги, если результат зависит от предыдущих.

## 4) Source Check: принуждение к использованию источников
Если в skill указаны обязательные источники — начинай ответ с блока:

**Source Check (обязательно):**
- По **каждому обязательному источнику** этого skill: 1 тезис, который ты реально применяешь + ссылка

Если не можешь дать тезис по каждому обязательному источнику — остановись и напиши ровно:
**MISSING SOURCE REVIEW**

## 5) Минимальные входные данные и правило “стоп”
Перед тем как выдавать решение, проверь минимум:
- тип проекта
- язык(и)
- тон/ощущение бренда
- ограничения (например: нужна кириллица, запрет на декоративные шрифты)
- для цвета: нужен ли dark mode, есть ли бренд-цвет

Если данных не хватает:
- разрешено сделать **не более 1–2 допущений** и явно указать одной строкой:
  **Assumption:** …
- если без уточнения нельзя принять решение — задай **1 короткий вопрос** и остановись.

## 6) Дисциплина структуры: нельзя “улучшать”
- Не сокращай и не переставляй разделы ответа из skill.
- Не объединяй секции “для красоты”.
- Все формулировки “обязательно / нельзя / строго” сохраняй максимально близко к оригиналу.
- Если skill требует конкретный формат (таблица, матрица, чеклист) — выполняй полностью.

## 7) Контроль полноты: обязателен в конце
Каждый ответ, сделанный через skill, заканчивай блоком:

**Completeness Check:**
- [ ] все обязательные источники учтены (Source Check присутствует)
- [ ] все секции из шаблона ответа заполнены
- [ ] все “обязательно/нельзя” соблюдены
- [ ] допущения указаны явно (если были)
- [ ] итог готов к применению без уточнений

Если какой-то пункт не выполняется — перепиши ответ до выполнения всех пунктов.

## 8) M3 baseline: Accessibility (всегда, даже если “просто сайт”)
- Структура контента понятна без визуальных подсказок: заголовки/секции/логика блоков.
- Любой интерактив имеет видимый focus и нормальную навигацию с клавиатуры.
- Не полагаться только на цвет для передачи смысла (ошибка/выбор/состояние читаются без угадывания).
- Текст выдерживает увеличение размера без развала и скрытого контента.
- Для motion учитывать reduced motion (см. раздел 10).

## 9) M3 baseline: Adaptive / responsive
- Проверяй решения не только “mobile/tablet/desktop”, а по логике size classes:
  compact / medium / expanded / large / extra-large.
- При расширении экрана допускается 1–3 “панели” контента, но логика и иерархия остаются теми же.

## 10) Motion safety: reduced motion
Если включено reduced motion:
- переходы упрощаются (чаще мягкие fade/минимальные смещения),
- избегать эффектов, которые могут укачивать (параллакс, резкие перелёты, долгие анимации).

## 11) Trend layer: как делать “вау”, но не испортить продукт
Используй `trend-layer` ТОЛЬКО когда:
- пользователь явно хочет вау-эффект, или
- есть понятная бизнес-цель (выделить hero, CTA, промо-блок), и
- это не ломает читаемость, ясность и доверие.

**Правила:**
- Вау-эффект = 1–2 акцентных места на странице, **НЕ “везде”**.
- Никакой магии ценой удобства: текст остаётся читабельным, CTA очевиден, навигация ясна.
- Если эффект влияет на motion — obey reduced motion и делай безопасную альтернативу.
- Если эффект зависит от “трендовой” эстетики (например, glass/blur) — он должен быть опциональным и не мешать контенту.

## 12) Гигиена skills (чтобы не раздувать систему)
- Если область не покрыта текущими skills — создай новый, узкий skill вместо раздувания существующего.
- Держи правила короткими: если этот файл рискует разрастись, переноси детали в skills/resources.

## 13) GitHub Policy: No Auto-Push
- **Никогда** не предлагай и не выполняй команды `git push`.
- Пользователь пушит изменения вручную.
- Ты можешь только делать локальные коммиты (`git commit`), когда это логически обосновано.

## 14) Icon Usage Policy: Iconify Only
- **Всегда** используй Iconify для добавления иконок на сайт.
- **Запрещено** генерировать SVG-иконки самостоятельно или искать их в других местах, если это не согласовано отдельно.
- Используй Web Component (`<iconify-icon>`) или SVG-фреймворк, как настроено в проекте.
